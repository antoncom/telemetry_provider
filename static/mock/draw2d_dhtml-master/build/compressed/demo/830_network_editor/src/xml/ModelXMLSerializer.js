/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

draw2d.ModelXMLSerializer=function(){alert("do not init this class. Use the static methods instead");};draw2d.ModelXMLSerializer.toXML=function(obj,_16a,_16b){if(obj===undefined){return "";}if(_16a===undefined){_16a=obj.tag;}_16b=_16b?_16b:"";var _16c=_16b+"   ";var t=draw2d.ModelXMLSerializer.getTypeName(obj);var _16e="";var _16f="";var _170=false;var _171=true;switch(t){case "int":case "number":case "boolean":_16e=obj;_171=false;break;case "string":_16e=draw2d.ModelXMLSerializer.xmlEncode(obj);_171=false;break;case "date":_16e=obj.toLocaleString();_171=false;break;case "Array":case "array":_170=true;_16e="";for(var i=0;i<obj.length;i++){var _173=obj[i];if(_173===undefined){continue;}_16e+=draw2d.ModelXMLSerializer.toXML(_173,_173.tag,_16c);_171=false;}_16e+=_16b;break;default:if(obj!==null){var _174=obj.getPersistentAttributes();var _175=_174.attributes;var _176=_174;for(var name in _176){if(name==="attributes"||name===undefined){continue;}_171=false;_16e+=draw2d.ModelXMLSerializer.toXML(_176[name],name,_16c);}_16e+="\n"+_16b;for(var name in _175){var _178=_175[name];if(_178===undefined){continue;}if(_178===null){_178="";}_16f=_16f+" "+name+"="+"\""+draw2d.ModelXMLSerializer.xmlEncode(_178)+"\"";}if(_16f.length>0){_16f+=" ";}}break;}if(_170){return _16e;}var s="";if(_171){s="\n"+_16b+"<"+_16a+_16f+"/>";}else{s="\n"+_16b+"<"+_16a+_16f+">";s+=_16e;s+="</"+_16a+">";}return s;};draw2d.ModelXMLSerializer.isSimpleVar=function(t){switch(t){case "int":case "string":case "String":case "Number":case "number":case "Boolean":case "boolean":case "bool":case "dateTime":case "Date":case "date":case "float":return true;}return false;};draw2d.ModelXMLSerializer.getTypeName=function(obj){if(obj===null){return "undefined";}if(obj instanceof Array){return "Array";}if(obj instanceof Date){return "Date";}var t=typeof (obj);if(t==="number"){return (parseInt(obj,10).toString()==obj)?"int":"number";}if(draw2d.ModelXMLSerializer.isSimpleVar(t)){return t;}return obj.type;};draw2d.ModelXMLSerializer.xmlEncode=function(_17d){var t=typeof (_17d);if(t=="number"){return ""+_17d;}var _17f=_17d;var amp=/&/gi;var gt=/>/gi;var lt=/</gi;var quot=/"/gi;var apos=/'/gi;var _185="&#62;";var _186="&#38;#60;";var _187="&#38;#38;";var _188="&#34;";var _189="&#39;";_17f=_17f.replace(amp,_187);_17f=_17f.replace(quot,_188);_17f=_17f.replace(lt,_186);_17f=_17f.replace(gt,_185);_17f=_17f.replace(apos,_189);return _17f;};